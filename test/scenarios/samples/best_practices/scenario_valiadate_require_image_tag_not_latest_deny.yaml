# file path relative to project root
input:
  policy: samples/best_practices/require_image_tag_not_latest.yaml
  resource: test/resources/require_image_tag_not_latest_deny.yaml
expected:
  validation:
    policyresponse:
      policy: validate-image-tag
      resource:
        kind: Pod
        apiVersion: v1
        namespace: ''
        name: myapp-pod
      rules:
        - name: image-tag-notspecified
          type: Validation
          message: "Validation rule 'image-tag-notspecified' succeeded for Pod//myapp-pod."
          success: true
        - name: image-tag-not-latest
          type: Validation
          message: "Validation error: Using 'latest' image tag is restricted. Set image tag to a specific version\nValidation rule 'image-tag-not-latest' failed at path '/spec/containers/0/image/' for Pod//myapp-pod."
          success: false   
